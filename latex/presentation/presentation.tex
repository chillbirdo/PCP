\documentclass{beamer}
\usepackage{beamerthemesplit} % new 
\usepackage[utf8x]{inputenc}
\usepackage[ngerman]{babel} 

\usepackage{epsfig}
\usepackage{amsmath}
\usepackage{placeins}
\usepackage{float}

\usepackage{algorithmic}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}


\begin{document}
\title{A Hybrid Algorithm for the Partition Coloring Problem} 
\author{Gilbert Fritz} 
\date{\today} 

\frame{\titlepage} 

\frame{\frametitle{Table of contents}\tableofcontents} 


\section{Problem Beschreibung} 
\subsection{Partition Coloring Problem}
\frame{\frametitle{Partition Coloring Problem}
\begin{itemize}
\item Let $G = (V, E)$ be a non-directed graph, where
$V$ is the set of nodes and $E$ is the set of edges. Furthermore,
let $V_1, V_2,\ldots, V_q$ be a partition of $V$ into
$q$ subsets with $V_1 \cup V_2 \cup \ldots \cup V_q = V$ and
$V_i \cap V_j = \emptyset, \forall i, j = 1, \ldots , q$ with $i \neq j$. We refer
to $V_1, V_2, \ldots , V_q$ as the components of the partition. The Partition Colouring Problem (PCP)
consists in finding a subset $V' \subset V$ such that
$|V' \cap V_i| = 1, \forall i = 1, \ldots , q$ (i.e., $V'$ contains one
node from each component $V_i$), and the chromatic
number of the graph induced in $G$ by $V'$ is minimum. This problem is clearly a generalization of
the graph colouring problem. Li and Simha	
have shown that the decision version of PCP is
NP-complete.
\end{itemize}
}
\frame{\frametitle{Partition Coloring Problem}
\includegraphics[scale=0.3]{pcp.png}
}


\subsection{Routing and Wavelength Assignment}
\frame{\frametitle{Routing and Wavelength Assignment}
\begin{enumerate}
\item Hintergrund erklären.
\item Bezug zu PCP erklären.
\item Kurz min-RWA erklären. 
\end{enumerate}
}


\section{Bestehende Arbeiten} 
\subsection{Exakte Verfahren}
\frame{\frametitle{Exakte Verfahren}
\begin{enumerate}
\item Frota, Ribiero (2010): Branch-And-Cut Algorithmus basierend auf der Formulierung durch Repräsentative
\end{enumerate}
}
\subsection{Heuristische Verfahren}
\frame{\frametitle{Heuristische Verfahren}
\begin{enumerate}
\item Li, Shima (2000): Einige Greedy Heuristiken, u.a. OneStepCD
\item Noronha, Ribiero (2006): Tabusuche
\item Hoshino, Souza, Frota (2011): Branch-And-Price
\item Hu, Raidl, Pop (2013): Memetischer Algorithmus
\end{enumerate}
}

\section{Eigener Ansatz}
\subsection{Übersicht}
\frame{\frametitle{Gesamtalgorithmus: Vorgehen}
\begin{enumerate}
\item Startheuristik: OneStepCD
\item Für jede Menge $U$ an Knoten gleicher Farbe $c$: Entfärbe und färbe ohne $c$ neu mittels $\{RANDOM, OneStepCD, ILP1, ILP2\}$
\item Die Lösungen pro Farbe nach Anzahl der Konflikte sortieren.
\item Für jede Lösung versuche Konflikte mittels Tabusuche zu eliminieren. Alle Knoten-Farb-Paare kommen von Beginn an für eine gewisse Anzahl an Iterationen auf die Tabuliste.
\item Konnten bei einer Lösung alle Konflikte eliminiert werden, beginne wieder bei 2, sonst gib die letzte zulässige Lösung zurück.
\end{enumerate}
}

\begin{frame}[fragile]
\frametitle{Pseudocode Gesamtalgorithmus}
\includegraphics[scale=0.32]{gesamtalgo.png}
\end{frame}

\subsection{Startlösung}
\begin{frame}
\frametitle{Startlösung: OneStepCD}
  \begin{algorithm}[H]
  \scriptsize
  \KwIn{An uncolored Graph $G=(V,E)$}
  \KwOut{A feasible Coloring $V'$}
  Remove from G all edges $(i,j) \in E$ : $i,j \in V_k$ for some $k=1,\ldots,q$\; 
  Set $V' \gets \emptyset $\;
  \While{$|V'| < q$} {
    Set $X \gets \emptyset $\;
    \For{$k=1,\ldots,q$ : $V_k \cap V'=0$}{
      Set $X \gets X \cup argmin\{CD(i) : i \in V_k\}$\; 
    }
    Set $x \gets argmax\{CD(i) : i \in X \}$\;
    Set $V' \gets V' \cup \{x\}$\;
    Assign the minimum possible colour to x\;
    Remove from G all nodes in $V_{c(x)} \setminus \{x\} $\;
  }
  \Return{$V'$}\;
  \caption{{\sc OneStepCD}}
  \label{algo:osdc}
  \end{algorithm}
\end{frame}

\FloatBarrier
\subsection{Neueinfärbung}
\begin{frame}
\frametitle{Random Recoloring}
\begin{enumerate}
\item Knoten werden zufällig neu eingefärbt.
\end{enumerate}

\end{frame}

\frame{\frametitle{Recoloring with OneStepCD}
\begin{algorithm}[H]
\scriptsize
\KwIn{A partial Solution $P$, a number of maximum colours $cmax$ }
\KwOut{A feasible Solution $S$}
Let $U$ be the set of uncolored nodes in $P$\;
Set $S \gets \emptyset$\;
\While{$|U| > 0$} {
  Set $X \gets \emptyset $\;
  \For{ $u \in U$}{
    $X \gets X \cup argmin\{CD(i) : i \in V_{c(u)}\}$\; 
  }
  Set $x \gets argmax\{CD(i) : i \in X \}$\;
  Set $cmin \gets$ the minimum possible colour that can be assigned to x\;
  \If{$cmin \geq cmax$}{
    $cmin \gets$ the color that produces the fewest conflicts.
  }
  Assign $cmin$ to $x$\;
  $S \gets S \cup \{x\}$\;
  $U \gets U \setminus V_{c(x)}$\;
}
\Return{$V'$}\;
\caption{{\sc OneStepCD Recoloring}}
\label{algo:osdc2}
\end{algorithm}

}
\frame{\frametitle{Recoloring with ILP1}

Let $Q = {Q_1,\ldots,Q_q}$ be the set of Clusters. Every cluster $Q_p$ consists of a set of nodes. Let $C=\{1,\ldots,cmax\}$ be the
set of allowed colors. Let $M$ be a 3-dimensional array of constants, storing
for every cluster $p \in Q$, the number conflicts that would occur by selecting the pair $(v \in Q_p, c \in C)$.
$E$ denotes the set of edges and $P[v]$ the cluster of node $v$.


\begin{equation*}
\scriptsize
\begin{aligned}
& \underset{X}{\text{minimize}} && \sum_{p \in Q}\sum_{v \in Q_p}\sum_{c \in C} X_{pvc} * M_{pvc}                    &&&(1)\\
& \text{subject to} && \sum_{v \in Q_p}\sum_{c \in C} X_{pvc}=1, && \forall p \in Q    &(2)\\
&&& X_{pvc}+X_{quc} \leq 1, && \forall ((p,v),(q,u)) \in E, \forall c \in C     &(3)\\
&&& X_{pvc} \in \{0,1\}, && \forall p \in Q, \forall v \in Q_p, \forall c \in C         &(4)
\end{aligned}
\end{equation*}
}


\frame{\frametitle{Recoloring with ILP2}

Let $U$ be the set of uncolored nodes in uncolored clusters and $color[(p,v)]$ the color of the node $v$ in partition $p$.

\begin{equation*}
\scriptsize
\begin{aligned}
& \underset{Z}{\text{minimize}} && \sum_{p \in Q}\sum_{v \in Q_p}\sum_{c \in C} Z_{pvc}                                              &&&(1)\\
& \text{subject to} && Z_{pvc} \geq X_{quc}, && \forall ((p,v),(q,u))\in E : (p,v) \notin U, (q,u) \in U, c=color[(p,v)]                                                            &(2)\\
&&& \sum_{v \in Q_p}\sum_{c \in C} X_{pvc}=1, && \forall p \in Q   &(3)\\
&&& X_{pvc}+X_{quc} \leq 1, && \forall ((p,v),(q,u)) \in E, \forall c \in C     &(4)\\
&&& X_{pvc} \in \{0,1\}, && \forall p \in Q, \forall v \in Q_p, \forall c \in C        &(5)
\end{aligned}
\end{equation*}

}

\subsection{Konflikte eliminieren: Tabusuche}
\begin{frame}[fragile]
\frametitle{Pseudocode Tabusuche}
\includegraphics[scale=0.32]{tabusearch.png}

\end{frame}


\section{Ergebnisse}
\subsection{Instanzen und Testumgebung}
\frame{\frametitle{Instanzen und Testumgebung}
\begin{enumerate}
\item Testinstanzen von Noronha, Ribiero

\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{Instance} & \textbf{Nodes} & \textbf{Clusters} & \textbf{N/Cl} & \textbf{Density} \\
\hline
dsjc500.5-1.in & 500 & 500 & 1 & 0.5\\
\hline
dsjc500.5-2.in & 1000 & 500 & 2 & 0.5\\
\hline
dsjc500.5-3.in & 1500 & 500 & 3 & 0.5\\
\hline
dsjc500.5-4.in & 2000 & 500 & 4 & 0.5\\
\hline
\end{tabular}
\end{center}


\item Java Implementierung
\item System: Intel i5 DualCore 2.5GHz
\end{enumerate}
}

\frame{\frametitle{Wiedereinfärbung mit Random}
\begin{itemize}
\item 10 Läufe pro Instanz
\item Tabulänge: 0.002*Knoten*Farben
\item MaxIterations: 0.3*Knoten*Farben
\end{itemize}

\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{Instance} & \textbf{avg Runtime} & \textbf{worst} & \textbf{avg} & \textbf{best} \\
\hline
dsjc500.5-1.in & 24.2 & 53 & 53.0 & 53\\
\hline
dsjc500.5-2.in & 73.3 & 48 & 48.0 & 48\\
\hline
dsjc500.5-3.in & 192.8 & 45 & 45.6 & 46\\
\hline
dsjc500.5-4.in & 211.6 & 44 & 44.0 & 44\\
\hline
\end{tabular}
\end{center}
}

\frame{\frametitle{Wiedereinfärbung mit OneStepCD}
\begin{itemize}
\item 10 Läufe pro Instanz
\item Tabulänge: 0.002*Knoten*Farben
\item MaxIterations: 0.3*Knoten*Farben
\end{itemize}

\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{Instance} & \textbf{avg Runtime} & \textbf{worst} & \textbf{avg} & \textbf{best} \\
\hline
dsjc500.5-1.in & 19.1 & 53 & 53.0 & 53\\
\hline
dsjc500.5-2.in & 71.3 & 48 & 48.0 & 48\\
\hline
dsjc500.5-3.in & 199.0 & 45 & 45.6 & 46\\
\hline
dsjc500.5-4.in & 290.2 & 44 & 44.0 & 44\\
\hline
\end{tabular}
\end{center}
}

\frame{\frametitle{Wiedereinfärbung mit ILP1}
\begin{itemize}
\item 1 Lauf pro Instanz
\item Tabulänge: 0.002*Knoten*Farben
\item MaxIterations: 0.3*Knoten*Farben
\end{itemize}

\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{Instance} & \textbf{Runtime} & \textbf{Result}\\
\hline
dsjc500.5-1.in & 15.9 & 53\\
\hline
dsjc500.5-2.in & 57.2 & 48\\
\hline
dsjc500.5-3.in & 164.02 & 45\\
\hline
dsjc500.5-4.in & 347.26 & 44\\
\hline
\end{tabular}
\end{center}
}

\frame{\frametitle{Wiedereinfärbung mit ILP2}
\begin{itemize}
\item 1 Lauf pro Instanz
\item Tabulänge: 0.002*Knoten*Farben
\item MaxIterations: 0.3*Knoten*Farben
\end{itemize}

\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{Instance} & \textbf{Runtime} & \textbf{Result}\\
\hline
dsjc500.5-1.in & 121.02 & 53\\
\hline
dsjc500.5-2.in & 365.377 & 48\\
\hline
dsjc500.5-3.in & 964.729 & 45\\
\hline
dsjc500.5-4.in & 1058.115 & 44\\
\hline
\end{tabular}
\end{center}
}

\frame{\frametitle{Ergebnisse von Frota und Ribiero}
\begin{itemize}
\item 10 Läufe pro Instanz
\item Tabulänge: verstehe ich noch immer nicht ganz
\item MaxIterations: auch noch nicht
\end{itemize}

\begin{center}
\begin{tabular}{|c|c|c|c|c|}
\hline
\textbf{Instance} & \textbf{Runtime} & \textbf{worst} & \textbf{avg} & \textbf{best} \\
\hline
dsjc500.5-1.in & 121.02 & 52 & 51.3 & 51\\
\hline
dsjc500.5-2.in & 365.377 & 46 & 45.9 & 45\\
\hline
dsjc500.5-3.in & 964.729 & 44 & 43.2 & 43\\
\hline
dsjc500.5-4.in & 1058.115 & 42 & 42.0 & 42\\
\hline
\end{tabular}
\end{center}
}


\section{Zusammenfassung}
\frame{\frametitle{Zusammenfassung}
\begin{itemize}
\item Beim Reduzieren der Farben spiel die Tabusuche eine weit wichtigere Rolle als die Neueinfärbung.
\end{itemize}
}

\begin{frame}
\bibliographystyle{unsrt}   % this means that the order of references
			    % is dtermined by the order in which the
			    % \cite and \nocite commands appear
\bibliography{pcp}  % list here all the bibliographies that
\end{frame}

\end{document}
